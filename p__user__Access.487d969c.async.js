(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[633],{49101:function(ae,b,e){"use strict";e.d(b,{Z:function(){return y}});var c=e(28991),p=e(67294),u={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},E=u,r=e(27029),I=function(O,S){return p.createElement(r.Z,(0,c.Z)((0,c.Z)({},O),{},{ref:S,icon:E}))};I.displayName="PlusOutlined";var y=p.forwardRef(I)},16695:function(){},51807:function(ae,b,e){"use strict";e.r(b);var c=e(58024),p=e(91894),u=e(32157),E=e(82363),r=e(57663),I=e(71577),y=e(39428),j=e(34792),O=e(48086),S=e(3182),Z=e(2824),D=e(67294),U=e(67265),z=e(25377),$=e(73727),L=e(82537),B=e(15873),o=e(85893);b.default=(0,D.memo)(function(){var f=(0,D.useState)(z.m8.location.state),K=(0,Z.Z)(f,1),n=K[0],he=(0,D.useState)(),re=(0,Z.Z)(he,2),se=re[0],le=re[1],Ee=(0,D.useState)(),ie=(0,Z.Z)(Ee,2),G=ie[0],g=ie[1],Q=(0,D.useState)([]),oe=(0,Z.Z)(Q,2),J=oe[0],ce=oe[1],ye=function(){var k=(0,S.Z)((0,y.Z)().mark(function W(){var h;return(0,y.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,L.O)({role_id:n.id});case 2:if(h=_.sent,h.code!==200){_.next=7;break}return le(h.data.all_access),g(h.data.role_access),_.abrupt("return");case 7:O.ZP.info(h.message);case 8:case"end":return _.stop()}},W)}));return function(){return k.apply(this,arguments)}}(),ue=function(){var k=(0,S.Z)((0,y.Z)().mark(function W(){var h;return(0,y.Z)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,(0,L.MQ)({role_id:n.id,access:J});case 2:if(h=_.sent,h.code!==200){_.next=6;break}return O.ZP.success(h.message),_.abrupt("return");case 6:O.ZP.info(h.message);case 7:case"end":return _.stop()}},W)}));return function(){return k.apply(this,arguments)}}();return(0,D.useEffect)(function(){if(n){ye();return}z.m8.goBack()},[n]),(0,o.jsx)(U.ZP,{title:"".concat(n==null?void 0:n.role_name," \u6743\u9650\u8BBE\u7F6E"),footer:[(0,o.jsx)(I.Z,{children:(0,o.jsx)($.rU,{to:"/admin/role",children:"\u8FD4\u56DE"})},"back"),(0,o.jsx)(I.Z,{type:"primary",icon:(0,o.jsx)(B.Z,{}),onClick:ue,children:"\u4FDD\u5B58"},"save")],children:(0,o.jsx)(p.Z,{children:se&&G&&(0,o.jsx)(E.Z,{checkable:!0,defaultExpandAll:!0,defaultCheckedKeys:G,selectable:!1,onCheck:function(W,h){ce(h.checkedNodes.map(function(N){return N.key}).filter(function(N){return typeof N=="number"}))},treeData:se})})})})},82537:function(ae,b,e){"use strict";e.d(b,{yp:function(){return E},Uy:function(){return I},cs:function(){return j},vh:function(){return S},Fe:function(){return D},O:function(){return z},MQ:function(){return L}});var c=e(39428),p=e(3182),u=e(25377);function E(o){return r.apply(this,arguments)}function r(){return r=(0,p.Z)((0,c.Z)().mark(function o(f){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.WY)("/api/v1/admin/role/all",{method:"GET",params:f}));case 1:case"end":return n.stop()}},o)})),r.apply(this,arguments)}function I(o){return y.apply(this,arguments)}function y(){return y=(0,p.Z)((0,c.Z)().mark(function o(f){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.WY)("/api/v1/admin/role",{method:"GET",params:f}));case 1:case"end":return n.stop()}},o)})),y.apply(this,arguments)}function j(o){return O.apply(this,arguments)}function O(){return O=(0,p.Z)((0,c.Z)().mark(function o(f){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.WY)("/api/v1/admin/role",{method:"POST",data:f}));case 1:case"end":return n.stop()}},o)})),O.apply(this,arguments)}function S(o){return Z.apply(this,arguments)}function Z(){return Z=(0,p.Z)((0,c.Z)().mark(function o(f){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.WY)("/api/v1/admin/role",{method:"PUT",data:f}));case 1:case"end":return n.stop()}},o)})),Z.apply(this,arguments)}function D(o){return U.apply(this,arguments)}function U(){return U=(0,p.Z)((0,c.Z)().mark(function o(f){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.WY)("/api/v1/admin/role",{method:"DELETE",params:f}));case 1:case"end":return n.stop()}},o)})),U.apply(this,arguments)}function z(o){return $.apply(this,arguments)}function $(){return $=(0,p.Z)((0,c.Z)().mark(function o(f){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.WY)("/api/v1/admin/access",{method:"GET",params:f}));case 1:case"end":return n.stop()}},o)})),$.apply(this,arguments)}function L(o){return B.apply(this,arguments)}function B(){return B=(0,p.Z)((0,c.Z)().mark(function o(f){return(0,c.Z)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,u.WY)("/api/v1/admin/access",{method:"PUT",data:f}));case 1:case"end":return n.stop()}},o)})),B.apply(this,arguments)}},82363:function(ae,b,e){"use strict";e.d(b,{Z:function(){return Re}});var c=e(96156),p=e(90484),u=e(22122),E=e(28991),r=e(67294),I={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M300 276.5a56 56 0 1056-97 56 56 0 00-56 97zm0 284a56 56 0 1056-97 56 56 0 00-56 97zM640 228a56 56 0 10112 0 56 56 0 00-112 0zm0 284a56 56 0 10112 0 56 56 0 00-112 0zM300 844.5a56 56 0 1056-97 56 56 0 00-56 97zM640 796a56 56 0 10112 0 56 56 0 00-112 0z"}}]},name:"holder",theme:"outlined"},y=I,j=e(27029),O=function(l,s){return r.createElement(j.Z,(0,E.Z)((0,E.Z)({},l),{},{ref:s,icon:y}))};O.displayName="HolderOutlined";var S=r.forwardRef(O),Z=e(94184),D=e.n(Z),U=e(76513),z=e(53124),$=e(33603),L=e(85061),B=e(28481),o=e(86504),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"},K=f,n=function(l,s){return r.createElement(j.Z,(0,E.Z)((0,E.Z)({},l),{},{ref:s,icon:K}))};n.displayName="FolderOpenOutlined";var he=r.forwardRef(n),re={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"},se=re,le=function(l,s){return r.createElement(j.Z,(0,E.Z)((0,E.Z)({},l),{},{ref:s,icon:se}))};le.displayName="FolderOutlined";var Ee=r.forwardRef(le),ie=e(10225),G=e(1089),g;(function(t){t[t.None=0]="None",t[t.Start=1]="Start",t[t.End=2]="End"})(g||(g={}));function Q(t,l){function s(i){var d=i.key,v=i.children;l(d,i)!==!1&&Q(v||[],l)}t.forEach(s)}function oe(t){var l=t.treeData,s=t.expandedKeys,i=t.startKey,d=t.endKey,v=[],a=g.None;if(i&&i===d)return[i];if(!i||!d)return[];function x(m){return m===i||m===d}return Q(l,function(m){if(a===g.End)return!1;if(x(m)){if(v.push(m),a===g.None)a=g.Start;else if(a===g.Start)return a=g.End,!1}else a===g.Start&&v.push(m);return s.indexOf(m)!==-1}),v}function J(t,l){var s=(0,L.Z)(l),i=[];return Q(t,function(d,v){var a=s.indexOf(d);return a!==-1&&(i.push(v),s.splice(a,1)),!!s.length}),i}var ce=function(t,l){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&l.indexOf(i)<0&&(s[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,i=Object.getOwnPropertySymbols(t);d<i.length;d++)l.indexOf(i[d])<0&&Object.prototype.propertyIsEnumerable.call(t,i[d])&&(s[i[d]]=t[i[d]]);return s};function ye(t){var l=t.isLeaf,s=t.expanded;return l?r.createElement(o.Z,null):s?r.createElement(he,null):r.createElement(Ee,null)}function ue(t){var l=t.treeData,s=t.children;return l||(0,G.zn)(s)}var k=function(l,s){var i=l.defaultExpandAll,d=l.defaultExpandParent,v=l.defaultExpandedKeys,a=ce(l,["defaultExpandAll","defaultExpandParent","defaultExpandedKeys"]),x=r.useRef(),m=r.useRef(),F=r.createRef();r.useImperativeHandle(s,function(){return F.current});var M=function(){var Y=(0,G.I8)(ue(a)),w=Y.keyEntities,P;return i?P=Object.keys(w):d?P=(0,ie.r7)(a.expandedKeys||v||[],w):P=a.expandedKeys||v,P},de=r.useState(a.selectedKeys||a.defaultSelectedKeys||[]),fe=(0,B.Z)(de,2),_e=fe[0],X=fe[1],Pe=r.useState(function(){return M()}),q=(0,B.Z)(Pe,2),V=q[0],ee=q[1];r.useEffect(function(){"selectedKeys"in a&&X(a.selectedKeys)},[a.selectedKeys]),r.useEffect(function(){"expandedKeys"in a&&ee(a.expandedKeys)},[a.expandedKeys]);var te=function(Y,w){var P;return"expandedKeys"in a||ee(Y),(P=a.onExpand)===null||P===void 0?void 0:P.call(a,Y,w)},H=function(Y,w){var P,be=a.multiple,Be=w.node,R=w.nativeEvent,Ie=Be.key,ve=Ie===void 0?"":Ie,me=ue(a),pe=(0,u.Z)((0,u.Z)({},w),{selected:!0}),We=(R==null?void 0:R.ctrlKey)||(R==null?void 0:R.metaKey),Ne=R==null?void 0:R.shiftKey,A;be&&We?(A=Y,x.current=ve,m.current=A,pe.selectedNodes=J(me,A)):be&&Ne?(A=Array.from(new Set([].concat((0,L.Z)(m.current||[]),(0,L.Z)(oe({treeData:me,expandedKeys:V,startKey:ve,endKey:x.current}))))),pe.selectedNodes=J(me,A)):(A=[ve],x.current=ve,m.current=A,pe.selectedNodes=J(me,A)),(P=a.onSelect)===null||P===void 0||P.call(a,A,pe),"selectedKeys"in a||X(A)},ne=r.useContext(z.E_),De=ne.getPrefixCls,T=ne.direction,ge=a.prefixCls,Ze=a.className,C=a.showIcon,Ke=C===void 0?!0:C,Ce=a.expandAction,Se=Ce===void 0?"click":Ce,Ue=ce(a,["prefixCls","className","showIcon","expandAction"]),xe=De("tree",ge),Le=D()("".concat(xe,"-directory"),(0,c.Z)({},"".concat(xe,"-directory-rtl"),T==="rtl"),Ze);return r.createElement(Me,(0,u.Z)({icon:ye,ref:F,blockNode:!0},Ue,{showIcon:Ke,expandAction:Se,prefixCls:xe,className:Le,expandedKeys:V,selectedKeys:_e,onSelect:H,onExpand:te}))},W=r.forwardRef(k),h=W,N=4;function _(t){var l,s=t.dropPosition,i=t.dropLevelOffset,d=t.prefixCls,v=t.indent,a=t.direction,x=a===void 0?"ltr":a,m=x==="ltr"?"left":"right",F=x==="ltr"?"right":"left",M=(l={},(0,c.Z)(l,m,-i*v+N),(0,c.Z)(l,F,0),l);switch(s){case-1:M.top=-3;break;case 1:M.bottom=-3;break;default:M.bottom=-3,M[m]=v+N;break}return r.createElement("div",{style:M,className:"".concat(d,"-drop-indicator")})}var Te=e(6324),Oe=r.forwardRef(function(t,l){var s,i=r.useContext(z.E_),d=i.getPrefixCls,v=i.direction,a=i.virtual,x=t.prefixCls,m=t.className,F=t.showIcon,M=F===void 0?!1:F,de=t.showLine,fe=t.switcherIcon,_e=t.blockNode,X=_e===void 0?!1:_e,Pe=t.children,q=t.checkable,V=q===void 0?!1:q,ee=t.selectable,te=ee===void 0?!0:ee,H=t.draggable,ne=t.motion,De=ne===void 0?(0,u.Z)((0,u.Z)({},$.ZP),{motionAppear:!1}):ne,T=d("tree",x),ge=(0,u.Z)((0,u.Z)({},t),{checkable:V,selectable:te,showIcon:M,motion:De,blockNode:X,showLine:Boolean(de),dropIndicatorRender:_}),Ze=r.useMemo(function(){if(!H)return!1;var C={};switch((0,p.Z)(H)){case"function":C.nodeDraggable=H;break;case"object":C=(0,u.Z)({},H);break;default:break}return C.icon!==!1&&(C.icon=C.icon||r.createElement(S,null)),C},[H]);return r.createElement(U.Z,(0,u.Z)({itemHeight:20,ref:l,virtual:a},ge,{prefixCls:T,className:D()((s={},(0,c.Z)(s,"".concat(T,"-icon-hide"),!M),(0,c.Z)(s,"".concat(T,"-block-node"),X),(0,c.Z)(s,"".concat(T,"-unselectable"),!te),(0,c.Z)(s,"".concat(T,"-rtl"),v==="rtl"),s),m),direction:v,checkable:V&&r.createElement("span",{className:"".concat(T,"-checkbox-inner")}),selectable:te,switcherIcon:function(Ke){return(0,Te.Z)(T,fe,de,Ke)},draggable:Ze}),Pe)});Oe.TreeNode=U.O,Oe.DirectoryTree=h;var Me=Oe,Re=Me},32157:function(ae,b,e){"use strict";var c=e(38663),p=e.n(c),u=e(16695),E=e.n(u)}}]);
